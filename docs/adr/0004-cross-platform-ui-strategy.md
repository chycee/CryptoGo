# 4. 크로스 플랫폼 UI 전략 (UI Strategy for Desktop)

날짜: 2026-01-07

## 현황 (Status)
제안됨 (Proposed)

## 맥락 (Context)
현재 시스템은 CLI(커맨드 라인) 기반으로 작동하고 있습니다. 윈도우와 리눅스 데스크탑 환경에서 사용자에게 더 나은 가시성과 조작성을 제공하기 위해 UI 도입이 필요합니다. "Quant" 아키텍처의 성능을 유지하면서도 네티이브한 느낌을 주는 최선의 방법을 결정해야 합니다.

## 대안 (Alternatives)

### 1. Wails (추천: 네이티브 GUI)
- **특징**: Go로 백엔드를, 웹 기술(Vite/React/Vue 등)로 프론트엔드를 작성. OS의 Native WebView(Edge, WebKit)를 사용하여 창을 띄움.
- **장점**: 윈도우와 리눅스 모두에서 가장 "현대적인 네이티브 프로그램"처럼 보임. 차트 가시화 및 버튼 조작이 매우 직관적임.
- **단점**: 프론트엔드 개발 환경(Node.js 등)이 추가로 필요함.

### 2. Bubble Tea (TUI: 터미널 전용 UI)
- **특징**: 터미널 내에서 화려한 대시보드를 구현. (예: 블룸버그 터미널 스타일)
- **장점**: 추가 의존성 없이 매우 가볍고 빠름. "전문 퀀트" 느낌이 강하며, SSH를 통한 원격 모니터링에도 완벽함.
- **단점**: 마우스 조작이나 차트 표현이 GUI에 비해 제한적임.

### 3. Dynamic User-Agent Synchronization (핵심 사양)
- **목적**: 봇 탐지 회피력을 극대화하기 위해 실제 실행 환경의 브라우저 정보를 사용합니다.
- **방식**: GUI(Wails) 초기화 시 WebView 캐시 혹은 `navigator.userAgent`를 통해 윈도우/리눅스 고유의 UA를 획득하고, 이를 매매 엔진의 모든 HTTP/WS 요청 헤더에 즉각 동기화합니다.
- **장점**: 수동 업데이트가 필요 없으며, 사용자의 OS 및 브라우저 버전 변경에 실시간으로 대응합니다.

## 결정 (Decision)
**성능과 심미성을 동시에 잡기 위해 "Wails" 기반의 GUI 도입을 우선적으로 검토하되, 내부 로직(Sequencer)과는 엄격히 분리하고 "User-Agent 동적 동기화"를 핵심 기능으로 포함합니다.**

1.  **구조적 격리**: UI는 전용 고루틴(`Goroutine`)에서 실행되며, 엔진(`Sequencer`)과는 이벤트 버스나 채널을 통해서만 통신합니다. (Hotpath 보호)
2.  **포터블 유지**: UI 파일들 역시 `_workspace`나 단일 바이너리 안에 포함되도록 설계하여 이식성을 유지합니다.

## 결과 (Consequences)
-   **사용성 향수**: 윈도우/리눅스 사용자 모두에게 익숙한 "창" 형태의 인터페이스를 제공합니다.
-   **성능 보장**: UI 렌더링 부하가 실시간 매매 로직(Hotpath)에 영향을 주지 않습니다.
-   **용량 증가**: WebView 인터페이스를 포함함에 따라 바이너리 용량이 소폭 증가합니다.
