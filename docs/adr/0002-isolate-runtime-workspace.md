# 2. 런타임 환경의 물리적 격리 (Workspace Separation)

날짜: 2026-01-07

## 현황 (Status)
승인됨 (Accepted)

## 맥락 (Context)
초기에는 `.gitignore`에 의존하여 `secrets/`, `data/` 등을 관리했으나, 다음과 같은 취약점이 발견되었습니다:
1.  오타나 실수로 `.gitignore`가 무력화될 경우, 민감 파일이 Git에 커밋됨.
2.  실제로 `secrets/` 폴더가 커밋되는 보안 사고 발생.
3.  소스 코드와 런타임 데이터가 루트 레벨에 혼재되어 구조적으로 불안정함.

## 결정 (Decision)
**로컬 런타임 전용 격리 공간인 `_workspace/` 디렉토리를 도입합니다.**

1.  **단일 진입점**: `.gitignore`에는 `_workspace/` 단 하나만 추가하여 관리를 단순화합니다.
2.  **전체 이동**: 기존 `secrets/`, `data/`, `logs/` 등 로컬에서 생성/참조되는 모든 파일은 `_workspace/` 하위로 이동합니다.
3.  **코드 수정**: 애플리케이션 코드는 `config` 로드, `DB` 접속, `Log` 생성 시 `_workspace/` 경로를 강제로 사용합니다.

## 결과 (Consequences)
-   **안전성 강화**: 개발자가 실수로 `git add .`을 하더라도 `_workspace/`는 통째로 무시되므로 안전합니다.
-   **구조적 명확성**: "소스코드" 영역과 "로컬 실행" 영역이 물리적으로 분리됩니다.
-   **마이그레이션**: 기존 개발 환경에서는 폴더 이동이 필요합니다 (자동화 스크립트로 처리됨).
